<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1 id="f-title">Flatland: A Romance of Many Dimensions</h1>
    <div id="f-author">by Edwin A. Abbott</div>
    <h2>Part 1, Section 3</h2>
    <h3 id="f-subtitle">Concerning the Inhabitants of Flatland</h3>
    <div id="excerpt">an excerpt</div>
    <div class="chapter">
      <p class="square">
        Our Professional Men and Gentlemen are Squares (to which class I myself
        belong) and Five-Sided Figures or
        <a href="http://en.wikipedia.org/wiki/Pentagon">Pentagons </a>.
      </p>
      <p class="nobility hexagon">
        Next above these come the Nobility, of whom there are several degrees,
        beginning at Six-Sided Figures, or
        <a href="http://en.wikipedia.org/wiki/Hexagon">Hexagons</a>, and from
        thence rising in the number of their sides till they receive the
        honourable title of
        <a href="http://en.wikipedia.org/wiki/Polygon">Polygonal</a>, or
        many-Sided. Finally when the number of the sides becomes so numerous,
        and the sides themselves so small, that the figure cannot be
        distinguished from a
        <a href="http://en.wikipedia.org/wiki/Circle">circle</a>, he is included
        in the Circular or Priestly order; and this is the highest class of all.
      </p>
      <p>
        <span class="pull-quote"
          >It is a <span class="drop">Law of Nature</span> with us that a male
          child shall have <strong>one more side</strong> than his father</span
        >, so that each generation shall rise (as a rule) one step in the scale
        of development and nobility. Thus the son of a Square is a Pentagon; the
        son of a Pentagon, a Hexagon; and so on.
      </p>
      <!-- . . . code continues . . . -->
    </div>
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
    <script>
      $(document).ready(function () {
        $("div.chapter a[href*='wikipedia']").attr({
          rel: "external",
          target: "_blank",
          title: function () {
            return "Learn more about " + $(this).text() + " at wikipedia";
          },
          id: function (index, oldValue) {
            return "wikilink-" + index;
          },
        });
        $("div.chapter a").each((index, element) => {
          console.log(element.id);
        });

        let backToTop = $("<a href='#top'>Back to top</a>");
        console.log($("<a href='#top'>Back to top</a>"));
        //$("body").append(backToTop);
        backToTop.insertAfter("div.chapter p");
        $('<a id="top"></a>').prependTo("body");
        $("span.drop").insertBefore("#f-subtitle");
        $("span.drop").wrap('<a href="/"></a>');
      });
    </script>
  </body>
</html>
